{"version":3,"sources":["Midi.ts","Keyboard/Key/index.js","Keyboard/Button/index.tsx","Keyboard/Keyboard.js","App.js","reportWebVitals.js","index.js"],"names":["Note","_Synth","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","root","octave","note","key","inherits","createClass","value","synth","triggerAttackRelease","test","Synth","Tone","toDestination","NoteFactory","notes","_ref","setKeyTrigger","setRoot","setOctave","setNote","push","arr","_step","_iterator","_createForOfIteratorHelper","s","n","done","makeNote","err","e","f","Key","react_default","a","createElement","Fragment","style","height","getKey","Button","children","props","objectWithoutProperties","assign","className","Keyboard","keyBoard","keys","useRef","_useState","useState","_useState2","slicedToArray","activeNote","setActiveNote","_useState3","_useState4","playNote","prev","getNote","handleNoteUp","stopPropagation","current","focus","handleRaiseOctave","handleLowerOctave","ref","tabIndex","onKeyDown","filter","onKeyUp","onClick","map","onMouseDown","onMouseUp","isSharp","makeNotesFromArray","App","role","reportWebVitals","onPerfEntry","Function","__webpack_require__","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.2a843161.chunk.js","sourcesContent":["import * as Tone from \"tone\";\n\nexport class Synth {\n  synth!: any;\n  constructor() {\n    if (!this.synth) {\n      this.synth = new Tone.PolySynth().toDestination();\n    }\n  }\n}\nexport class Note extends Synth {\n  root!: string;\n  octave!: number;\n  note!: string;\n  key!: string;\n  setRoot(root: string) {\n    this.root = root;\n  }\n  setOctave(octave: number) {\n    this.octave = octave;\n  }\n  setNote() {\n    this.note = this.root + this.octave;\n  }\n  setKeyTrigger(key: string) {\n    this.key = key;\n  }\n  playNote() {\n    // console.log(this.synth, \" \", this.note, \" \", this.key);\n    this.synth.triggerAttackRelease(this.note, \"16n\");\n  }\n  getNote() {\n    return this.note;\n  }\n  getKey() {\n    return this.key;\n  }\n  getOctave() {\n    return this.octave;\n  }\n  getRoot() {\n    return this.root;\n  }\n  isSharp() {\n    return /#/.test(this.note);\n  }\n}\n\ninterface NoteProps {\n  key: string;\n  octave: number;\n  root: string;\n}\n\nexport class NoteFactory {\n  // components: {[key:string] : IComponent } = {};\n  notes: any = [];\n  makeNote({ key, octave, root }: NoteProps) {\n    const note = new Note();\n    note.setKeyTrigger(key);\n    note.setRoot(root);\n    note.setOctave(octave);\n    note.setNote();\n    this.notes.push(note);\n  }\n  makeNotesFromArray(arr: any) {\n    for (let note of arr) {\n      this.makeNote({\n        key: note.key,\n        octave: note.octave,\n        root: note.root,\n      });\n    }\n  }\n}\n","import React from \"react\";\n\nexport default function Key({ note }) {\n  return (\n    <>\n      <p style={{ height: \"50%\" }}>\n        {/* <span\n          style={{\n            background: \"yellow\",\n            color: \"var(--dark)\",\n            padding: \".25rem\",\n            textAlign: \"left\",\n            display: \"block\",\n          }}\n        >\n          {note.getNote()}\n        </span> */}\n      </p>\n      <p>{note.getKey()}</p>\n    </>\n  );\n}\n","import React, { FC, ReactNode } from \"react\";\n\ninterface ButtonProps {\n  children: ReactNode;\n  props: Object;\n}\n\nexport default function Button({ children, ...props }: ButtonProps) {\n  return (\n    <button className=\"button\" {...props}>\n      {children}\n    </button>\n  );\n}\n","import React, { useRef, useState } from \"react\";\nimport Key from \"./Key\";\nimport Button from \"./Button\";\nexport default function Keyboard({ keyBoard }) {\n  const keys = useRef();\n  const [activeNote, setActiveNote] = useState(null);\n  const [octave, setOctave] = useState(3);\n  function playNote(note) {\n    note.setOctave(octave);\n    note.setNote();\n    setActiveNote((prev) => note.getNote());\n    // console.log(note);\n    note.playNote();\n  }\n  function handleKeyDown(e) {\n    e.stopPropagation();\n    const key = e.key;\n    const note = keyBoard.notes.filter((note) => note.key === key)[0];\n\n    if (note) playNote(note);\n    if (key === \"ArrowUp\") handleRaiseOctave();\n    if (key === \"ArrowDown\") handleLowerOctave();\n  }\n  function handleNoteUp(e) {\n    e.stopPropagation();\n    setActiveNote(null);\n    keys.current.focus();\n  }\n  function handleRaiseOctave() {\n    if (octave < 6) setOctave((prev) => prev + 1);\n  }\n  function handleLowerOctave() {\n    if (octave > 1) setOctave((prev) => prev - 1);\n  }\n  return (\n    <div\n      className=\"keyboard\"\n      ref={keys}\n      tabIndex={0}\n      onKeyDown={handleKeyDown}\n      onKeyUp={handleNoteUp}\n    >\n      <Button onClick={handleLowerOctave}>Lower Octave</Button>\n\n      {keyBoard.notes.map((note) => (\n        <div\n          onMouseDown={() => {\n            playNote(note);\n          }}\n          onMouseUp={handleNoteUp}\n          key={note.getNote()}\n          className={`key ${note.isSharp() ? \"black\" : \"white\"} ${\n            activeNote === note.getNote() ? \"active\" : \"\"\n          }`}\n        >\n          <Key note={note} />\n        </div>\n      ))}\n      <Button onClick={handleRaiseOctave}>Increase Octave</Button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport { NoteFactory } from \"./Midi\";\nimport Keyboard from \"./Keyboard/Keyboard\";\n\nconst keyBoard = new NoteFactory();\nkeyBoard.makeNotesFromArray([\n  { root: \"C\", octave: 4, key: \"a\" },\n  { root: \"C#\", octave: 4, key: \"q\" },\n  { root: \"D\", octave: 4, key: \"s\" },\n  { root: \"D#\", octave: 4, key: \"w\" },\n  { root: \"E\", octave: 4, key: \"d\" },\n  { root: \"F\", octave: 4, key: \"f\" },\n  { root: \"F#\", octave: 4, key: \"r\" },\n  { root: \"G\", octave: 4, key: \"g\" },\n  { root: \"G#\", octave: 4, key: \"t\" },\n  { root: \"A\", octave: 4, key: \"j\" },\n  { root: \"A#\", octave: 4, key: \"u\" },\n]);\nfunction App() {\n  return (\n    <div className=\"App\" role=\"main\">\n      <h1>Midi Keyboard</h1>\n      <Keyboard keyBoard={keyBoard} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}